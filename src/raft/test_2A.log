jerry_wang@臭狗台式电脑:~/mit_6.824/6.824/src/raft$ go test -run 2A
2023/04/18 23:34:06 reset election timer for node 0, timeout 443.59928ms
2023/04/18 23:34:06 reset election timer for node 1, timeout 570.593595ms
2023/04/18 23:34:06 spawning a go routine for node=0 to listen for appendEntry timeout for peer 2
2023/04/18 23:34:06 spawning a go routine for node=1 to listen for appendEntry timeout for peer 2
2023/04/18 23:34:06 spawning a go routine for node=0 to listen for appendEntry timeout for peer 1
2023/04/18 23:34:06 reset election timer for node 2, timeout 505.819455ms
Test (2A): initial election ...
2023/04/18 23:34:06 spawning a go routine for node=1 to listen for appendEntry timeout for peer 0
2023/04/18 23:34:06 spawning a go routine for node=2 to listen for appendEntry timeout for peer 1
2023/04/18 23:34:06 spawning a go routine for node=2 to listen for appendEntry timeout for peer 0
2023/04/18 23:34:06 appendEntry time out for node 1 to node 2
2023/04/18 23:34:06 appendEntry time out for node 2 to node 1
2023/04/18 23:34:06 appendEntry time out for node 0 to node 2
2023/04/18 23:34:06 appendEntry time out for node 2 to node 0
2023/04/18 23:34:06 appendEntry time out for node 1 to node 0
2023/04/18 23:34:06 appendEntry time out for node 0 to node 1
2023/04/18 23:34:07 appendEntry time out for node 0 to node 1
2023/04/18 23:34:07 appendEntry time out for node 2 to node 1
2023/04/18 23:34:07 appendEntry time out for node 1 to node 2
2023/04/18 23:34:07 appendEntry time out for node 0 to node 2
2023/04/18 23:34:07 appendEntry time out for node 2 to node 0
2023/04/18 23:34:07 appendEntry time out for node 1 to node 0
2023/04/18 23:34:07 ====================node 0 started election, role=Follower====================
2023/04/18 23:34:07 changing roles for node 0 from Follower to Candidate
2023/04/18 23:34:07 term=1
2023/04/18 23:34:07 ====================node 1 received RequestVote PRC from 0 for term 1====================
2023/04/18 23:34:07 node 1 voted for 0 for the first time in this term
2023/04/18 23:34:07 reset election timer for node 1, timeout 766.772258ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ====================node 2 received RequestVote PRC from 0 for term 1====================
2023/04/18 23:34:07 node 2 voted for 0 for the first time in this term
2023/04/18 23:34:07 reset election timer for node 2, timeout 432.725442ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 node 0 received at least 2 votes, became leader for term=1
2023/04/18 23:34:07 changing roles for node 0 from Candidate to Leader
2023/04/18 23:34:07 reset election timer for node 0, timeout 464.131117ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 appendEntry time out for node 0 to node 2
2023/04/18 23:34:07 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:07 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:07 reset election timer for node 2, timeout 546.821844ms
2023/04/18 23:34:07 appendEntry time out for node 0 to node 1
2023/04/18 23:34:07 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:07 reset election timer for node 1, timeout 442.758333ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 appendEntry time out for node 1 to node 2
2023/04/18 23:34:07 appendEntry time out for node 2 to node 1
2023/04/18 23:34:07 appendEntry time out for node 1 to node 0
2023/04/18 23:34:07 appendEntry time out for node 2 to node 0
2023/04/18 23:34:07 appendEntry time out for node 0 to node 1
2023/04/18 23:34:07 appendEntry time out for node 0 to node 2
2023/04/18 23:34:07 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:07 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:07 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:07 reset election timer for node 1, timeout 710.127901ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:07 reset election timer for node 2, timeout 770.751166ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 appendEntry time out for node 2 to node 0
2023/04/18 23:34:07 appendEntry time out for node 1 to node 0
2023/04/18 23:34:07 appendEntry time out for node 2 to node 1
2023/04/18 23:34:07 appendEntry time out for node 1 to node 2
2023/04/18 23:34:07 appendEntry time out for node 0 to node 2
2023/04/18 23:34:07 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:07 appendEntry time out for node 0 to node 1
2023/04/18 23:34:07 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:07 reset election timer for node 2, timeout 600.136244ms
2023/04/18 23:34:07 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:07 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:07 reset election timer for node 1, timeout 603.511976ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ====================node 0 started election, role=Leader====================
2023/04/18 23:34:07 node 0 is a leader, skipping this election
2023/04/18 23:34:07 reset election timer for node 0, timeout 583.517116ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 appendEntry time out for node 2 to node 1
2023/04/18 23:34:07 appendEntry time out for node 2 to node 0
2023/04/18 23:34:07 appendEntry time out for node 1 to node 2
2023/04/18 23:34:07 appendEntry time out for node 1 to node 0
2023/04/18 23:34:07 appendEntry time out for node 0 to node 2
2023/04/18 23:34:07 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:07 appendEntry time out for node 0 to node 1
2023/04/18 23:34:07 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:07 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:07 reset election timer for node 2, timeout 795.753843ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:07 reset election timer for node 1, timeout 510.434262ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 appendEntry time out for node 1 to node 0
2023/04/18 23:34:07 appendEntry time out for node 1 to node 2
2023/04/18 23:34:07 appendEntry time out for node 2 to node 0
2023/04/18 23:34:07 appendEntry time out for node 2 to node 1
2023/04/18 23:34:07 appendEntry time out for node 0 to node 2
2023/04/18 23:34:07 appendEntry time out for node 0 to node 1
2023/04/18 23:34:07 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:07 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:07 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:07 reset election timer for node 2, timeout 677.236875ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 reset election timer for node 1, timeout 576.882978ms
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:07 ================================================================================
2023/04/18 23:34:08 appendEntry time out for node 2 to node 0
2023/04/18 23:34:08 appendEntry time out for node 2 to node 1
2023/04/18 23:34:08 appendEntry time out for node 1 to node 2
2023/04/18 23:34:08 appendEntry time out for node 1 to node 0
2023/04/18 23:34:08 appendEntry time out for node 0 to node 1
2023/04/18 23:34:08 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:08 appendEntry time out for node 0 to node 2
2023/04/18 23:34:08 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:08 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:08 reset election timer for node 1, timeout 759.961208ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:08 reset election timer for node 2, timeout 701.143081ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ====================node 0 started election, role=Leader====================
2023/04/18 23:34:08 node 0 is a leader, skipping this election
2023/04/18 23:34:08 reset election timer for node 0, timeout 771.398355ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 appendEntry time out for node 2 to node 1
2023/04/18 23:34:08 appendEntry time out for node 1 to node 0
2023/04/18 23:34:08 appendEntry time out for node 1 to node 2
2023/04/18 23:34:08 appendEntry time out for node 2 to node 0
2023/04/18 23:34:08 appendEntry time out for node 0 to node 1
2023/04/18 23:34:08 appendEntry time out for node 0 to node 2
2023/04/18 23:34:08 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:08 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:08 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:08 reset election timer for node 1, timeout 450.318804ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:08 reset election timer for node 2, timeout 757.779612ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 appendEntry time out for node 2 to node 0
2023/04/18 23:34:08 appendEntry time out for node 1 to node 0
2023/04/18 23:34:08 appendEntry time out for node 2 to node 1
2023/04/18 23:34:08 appendEntry time out for node 1 to node 2
2023/04/18 23:34:08 appendEntry time out for node 0 to node 1
2023/04/18 23:34:08 appendEntry time out for node 0 to node 2
2023/04/18 23:34:08 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:08 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:08 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:08 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:08 reset election timer for node 1, timeout 494.425507ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 reset election timer for node 2, timeout 633.078293ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 appendEntry time out for node 2 to node 0
2023/04/18 23:34:08 appendEntry time out for node 1 to node 0
2023/04/18 23:34:08 appendEntry time out for node 1 to node 2
2023/04/18 23:34:08 appendEntry time out for node 2 to node 1
2023/04/18 23:34:08 appendEntry time out for node 0 to node 1
2023/04/18 23:34:08 appendEntry time out for node 0 to node 2
2023/04/18 23:34:08 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:08 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:08 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:08 reset election timer for node 2, timeout 609.276176ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:08 reset election timer for node 1, timeout 754.168174ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 appendEntry time out for node 2 to node 0
2023/04/18 23:34:08 appendEntry time out for node 2 to node 1
2023/04/18 23:34:08 appendEntry time out for node 1 to node 2
2023/04/18 23:34:08 appendEntry time out for node 1 to node 0
2023/04/18 23:34:08 appendEntry time out for node 0 to node 2
2023/04/18 23:34:08 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:08 appendEntry time out for node 0 to node 1
2023/04/18 23:34:08 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:08 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:08 reset election timer for node 2, timeout 654.337102ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:08 reset election timer for node 1, timeout 646.126233ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:08 ====================node 0 started election, role=Leader====================
2023/04/18 23:34:08 node 0 is a leader, skipping this election
2023/04/18 23:34:08 reset election timer for node 0, timeout 513.301016ms
2023/04/18 23:34:08 ================================================================================
2023/04/18 23:34:09 appendEntry time out for node 1 to node 0
2023/04/18 23:34:09 appendEntry time out for node 1 to node 2
2023/04/18 23:34:09 appendEntry time out for node 2 to node 0
2023/04/18 23:34:09 appendEntry time out for node 2 to node 1
2023/04/18 23:34:09 appendEntry time out for node 0 to node 2
2023/04/18 23:34:09 appendEntry time out for node 0 to node 1
2023/04/18 23:34:09 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:09 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:09 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:09 reset election timer for node 2, timeout 433.182789ms
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:09 reset election timer for node 1, timeout 776.173886ms
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 appendEntry time out for node 2 to node 1
2023/04/18 23:34:09 appendEntry time out for node 1 to node 2
2023/04/18 23:34:09 appendEntry time out for node 2 to node 0
2023/04/18 23:34:09 appendEntry time out for node 1 to node 0
2023/04/18 23:34:09 appendEntry time out for node 0 to node 1
2023/04/18 23:34:09 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:09 appendEntry time out for node 0 to node 2
2023/04/18 23:34:09 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:09 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:09 reset election timer for node 2, timeout 503.858822ms
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:09 reset election timer for node 1, timeout 713.246875ms
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 ====================node 0 started election, role=Leader====================
2023/04/18 23:34:09 node 0 is a leader, skipping this election
2023/04/18 23:34:09 reset election timer for node 0, timeout 780.18891ms
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 appendEntry time out for node 1 to node 0
2023/04/18 23:34:09 appendEntry time out for node 2 to node 1
2023/04/18 23:34:09 appendEntry time out for node 2 to node 0
2023/04/18 23:34:09 appendEntry time out for node 1 to node 2
2023/04/18 23:34:09 appendEntry time out for node 0 to node 2
2023/04/18 23:34:09 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:09 appendEntry time out for node 0 to node 1
2023/04/18 23:34:09 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:09 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:09 reset election timer for node 2, timeout 541.615344ms
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:09 reset election timer for node 1, timeout 681.074376ms
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 ================================================================================
2023/04/18 23:34:09 appendEntry time out for node 2 to node 0
2023/04/18 23:34:09 appendEntry time out for node 1 to node 0
2023/04/18 23:34:09 appendEntry time out for node 2 to node 1
2023/04/18 23:34:09 appendEntry time out for node 1 to node 2
  ... Passed --   3.0  3   28    7594    0
2023/04/18 23:34:09 calling kill() on node 0
2023/04/18 23:34:09 calling kill() on node 1
2023/04/18 23:34:09 calling kill() on node 2
2023/04/18 23:34:09 node=1 is killed, exiting go routing to listen for appendEntry timeout for peer 0
2023/04/18 23:34:09 node=1 is killed, exiting go routing to listen for election timeout
2023/04/18 23:34:09 node=0 is killed, exiting go routing to listen for election timeout
2023/04/18 23:34:09 node=0 is killed, exiting go routing to listen for appendEntry timeout for peer 2
2023/04/18 23:34:09 node=0 is killed, exiting go routing to listen for appendEntry timeout for peer 1
2023/04/18 23:34:09 node=2 is killed, exiting go routing to listen for appendEntry timeout for peer 0
2023/04/18 23:34:09 node=2 is killed, exiting go routing to listen for appendEntry timeout for peer 1
2023/04/18 23:34:09 node=2 is killed, exiting go routing to listen for election timeout
2023/04/18 23:34:09 node=1 is killed, exiting go routing to listen for appendEntry timeout for peer 2
2023/04/18 23:34:09 reset election timer for node 0, timeout 700.539702ms
2023/04/18 23:34:09 spawning a go routine for node=0 to listen for appendEntry timeout for peer 2
2023/04/18 23:34:09 spawning a go routine for node=0 to listen for appendEntry timeout for peer 1
2023/04/18 23:34:09 reset election timer for node 1, timeout 786.854943ms
2023/04/18 23:34:09 spawning a go routine for node=1 to listen for appendEntry timeout for peer 2
2023/04/18 23:34:09 spawning a go routine for node=1 to listen for appendEntry timeout for peer 0
2023/04/18 23:34:09 reset election timer for node 2, timeout 788.153404ms
Test (2A): election after network failure ...
2023/04/18 23:34:09 spawning a go routine for node=2 to listen for appendEntry timeout for peer 1
2023/04/18 23:34:09 spawning a go routine for node=2 to listen for appendEntry timeout for peer 0
2023/04/18 23:34:09 appendEntry time out for node 0 to node 2
2023/04/18 23:34:09 appendEntry time out for node 0 to node 1
2023/04/18 23:34:09 appendEntry time out for node 1 to node 2
2023/04/18 23:34:09 appendEntry time out for node 1 to node 0
2023/04/18 23:34:09 appendEntry time out for node 2 to node 1
2023/04/18 23:34:09 appendEntry time out for node 2 to node 0
2023/04/18 23:34:10 appendEntry time out for node 1 to node 0
2023/04/18 23:34:10 appendEntry time out for node 0 to node 1
2023/04/18 23:34:10 appendEntry time out for node 1 to node 2
2023/04/18 23:34:10 appendEntry time out for node 0 to node 2
2023/04/18 23:34:10 appendEntry time out for node 2 to node 0
2023/04/18 23:34:10 appendEntry time out for node 2 to node 1
2023/04/18 23:34:10 appendEntry time out for node 0 to node 2
2023/04/18 23:34:10 appendEntry time out for node 0 to node 1
2023/04/18 23:34:10 appendEntry time out for node 1 to node 2
2023/04/18 23:34:10 appendEntry time out for node 1 to node 0
2023/04/18 23:34:10 appendEntry time out for node 2 to node 1
2023/04/18 23:34:10 appendEntry time out for node 2 to node 0
2023/04/18 23:34:10 ====================node 0 started election, role=Follower====================
2023/04/18 23:34:10 changing roles for node 0 from Follower to Candidate
2023/04/18 23:34:10 term=1
2023/04/18 23:34:10 ====================node 2 received RequestVote PRC from 0 for term 1====================
2023/04/18 23:34:10 node 2 voted for 0 for the first time in this term
2023/04/18 23:34:10 ====================node 1 received RequestVote PRC from 0 for term 1====================
2023/04/18 23:34:10 node 1 voted for 0 for the first time in this term
2023/04/18 23:34:10 reset election timer for node 2, timeout 401.624819ms
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 reset election timer for node 1, timeout 416.421138ms
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 node 0 received at least 2 votes, became leader for term=1
2023/04/18 23:34:10 changing roles for node 0 from Candidate to Leader
2023/04/18 23:34:10 reset election timer for node 0, timeout 609.783752ms
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 appendEntry time out for node 0 to node 1
2023/04/18 23:34:10 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:10 appendEntry time out for node 0 to node 2
2023/04/18 23:34:10 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:10 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:10 reset election timer for node 2, timeout 555.859408ms
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:10 reset election timer for node 1, timeout 542.554015ms
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 appendEntry time out for node 1 to node 0
2023/04/18 23:34:10 appendEntry time out for node 1 to node 2
2023/04/18 23:34:10 appendEntry time out for node 2 to node 1
2023/04/18 23:34:10 appendEntry time out for node 2 to node 0
2023/04/18 23:34:10 appendEntry time out for node 0 to node 2
2023/04/18 23:34:10 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:10 appendEntry time out for node 0 to node 1
2023/04/18 23:34:10 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:10 ====================node 2 received AppendEntries PRC from 0====================
2023/04/18 23:34:10 reset election timer for node 2, timeout 638.354228ms
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 ====================node 1 received AppendEntries PRC from 0====================
2023/04/18 23:34:10 reset election timer for node 1, timeout 560.054337ms
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:10 appendEntry time out for node 1 to node 0
2023/04/18 23:34:10 appendEntry time out for node 1 to node 2
2023/04/18 23:34:10 appendEntry time out for node 2 to node 1
2023/04/18 23:34:10 appendEntry time out for node 2 to node 0
2023/04/18 23:34:10 disconnecting leader=node 0
2023/04/18 23:34:10 appendEntry time out for node 0 to node 2
2023/04/18 23:34:10 appendEntry time out for node 0 to node 1
2023/04/18 23:34:10 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/18 23:34:10 ====================leader 0 sending heartbeats to node 1, current term=1====================
2023/04/18 23:34:10 appendEntry time out for node 1 to node 0
2023/04/18 23:34:10 appendEntry time out for node 1 to node 2
2023/04/18 23:34:10 appendEntry time out for node 2 to node 0
2023/04/18 23:34:10 appendEntry time out for node 2 to node 1
2023/04/18 23:34:10 ====================node 0 started election, role=Leader====================
2023/04/18 23:34:10 node 0 is a leader, skipping this election
2023/04/18 23:34:10 reset election timer for node 0, timeout 442.758247ms
2023/04/18 23:34:10 ================================================================================
2023/04/18 23:34:11 appendEntry time out for node 1 to node 0
2023/04/18 23:34:11 appendEntry time out for node 1 to node 2
2023/04/18 23:34:11 appendEntry time out for node 2 to node 0
2023/04/18 23:34:11 appendEntry time out for node 2 to node 1
2023/04/18 23:34:11 ====================node 1 started election, role=Follower====================
2023/04/18 23:34:11 changing roles for node 1 from Follower to Candidate
2023/04/18 23:34:11 term=2
2023/04/18 23:34:11 ====================node 2 received RequestVote PRC from 1 for term 2====================
2023/04/18 23:34:11 node 2 voted for 1 for the first time in this term
2023/04/18 23:34:11 reset election timer for node 2, timeout 610.355653ms
2023/04/18 23:34:11 ================================================================================
2023/04/18 23:34:11 node 1 received at least 2 votes, became leader for term=2
2023/04/18 23:34:11 changing roles for node 1 from Candidate to Leader
2023/04/18 23:34:11 reset election timer for node 1, timeout 449.59391ms
2023/04/18 23:34:11 ================================================================================
2023/04/18 23:34:11 appendEntry time out for node 1 to node 0
2023/04/18 23:34:11 ====================leader 1 sending heartbeats to node 0, current term=2====================
2023/04/18 23:34:11 appendEntry time out for node 1 to node 2
2023/04/18 23:34:11 ====================leader 1 sending heartbeats to node 2, current term=2====================
2023/04/18 23:34:11 ====================node 2 received AppendEntries PRC from 1====================
2023/04/18 23:34:11 reset election timer for node 2, timeout 774.752114ms
2023/04/18 23:34:11 ================================================================================
2023/04/18 23:34:11 ================================================================================
2023/04/18 23:34:11 connecting node 0 back
2023/04/18 23:34:11 node 1 can't reach peer 0 to send request vote rpc, rpc timeout
2023/04/18 23:34:11 appendEntry time out for node 2 to node 1
2023/04/18 23:34:11 appendEntry time out for node 2 to node 0
2023/04/18 23:34:11 appendEntry time out for node 1 to node 2
2023/04/18 23:34:11 ====================leader 1 sending heartbeats to node 2, current term=2====================
2023/04/18 23:34:11 ====================node 2 received AppendEntries PRC from 1====================
2023/04/18 23:34:11 reset election timer for node 2, timeout 759.87599ms
2023/04/18 23:34:11 ================================================================================
2023/04/18 23:34:11 ================================================================================
2023/04/18 23:34:11 ====================node 0 started election, role=Leader====================
2023/04/18 23:34:11 node 0 is a leader, skipping this election
2023/04/18 23:34:11 reset election timer for node 0, timeout 642.118679ms
2023/04/18 23:34:11 ================================================================================
2023/04/18 23:34:11 appendEntry time out for node 2 to node 0
2023/04/18 23:34:11 appendEntry time out for node 2 to node 1
2023/04/18 23:34:11 appendEntry time out for node 1 to node 2
2023/04/18 23:34:11 ====================leader 1 sending heartbeats to node 2, current term=2====================
2023/04/18 23:34:11 ====================node 2 received AppendEntries PRC from 1====================
2023/04/18 23:34:11 reset election timer for node 2, timeout 757.407003ms
2023/04/18 23:34:11 ================================================================================
2023/04/18 23:34:11 ================================================================================
2023/04/18 23:34:11 ====================node 1 started election, role=Leader====================
2023/04/18 23:34:11 node 1 is a leader, skipping this election
2023/04/18 23:34:11 reset election timer for node 1, timeout 423.998109ms
2023/04/18 23:34:11 ================================================================================
2023/04/18 23:34:11 disconnecting both node 1 and node 2
2023/04/18 23:34:11 appendEntry time out for node 2 to node 1
2023/04/18 23:34:11 appendEntry time out for node 2 to node 0
2023/04/18 23:34:11 appendEntry time out for node 1 to node 2
2023/04/18 23:34:11 ====================leader 1 sending heartbeats to node 2, current term=2====================
2023/04/18 23:34:11 appendEntry time out for node 2 to node 1
2023/04/18 23:34:11 appendEntry time out for node 2 to node 0
2023/04/18 23:34:12 ====================node 1 started election, role=Leader====================
2023/04/18 23:34:12 node 1 is a leader, skipping this election
2023/04/18 23:34:12 reset election timer for node 1, timeout 479.873533ms
2023/04/18 23:34:12 ================================================================================
2023/04/18 23:34:12 ====================node 0 started election, role=Leader====================
2023/04/18 23:34:12 node 0 is a leader, skipping this election
2023/04/18 23:34:12 reset election timer for node 0, timeout 639.690318ms
2023/04/18 23:34:12 ================================================================================
2023/04/18 23:34:12 appendEntry time out for node 2 to node 0
2023/04/18 23:34:12 appendEntry time out for node 2 to node 1
2023/04/18 23:34:12 appendEntry time out for node 2 to node 1
2023/04/18 23:34:12 appendEntry time out for node 2 to node 0
2023/04/18 23:34:12 ====================node 2 started election, role=Follower====================
2023/04/18 23:34:12 changing roles for node 2 from Follower to Candidate
2023/04/18 23:34:12 term=3
2023/04/18 23:34:12 node 2 can't reach peer 0 to send request vote rpc, rpc timeout
2023/04/18 23:34:12 node 2 can't reach peer 1 to send request vote rpc, rpc timeout
2023/04/18 23:34:12 node 2 received 1 votes, not enough
2023/04/18 23:34:12 changing roles for node 2 from Candidate to Follower
2023/04/18 23:34:12 reset election timer for node 2, timeout 783.588443ms
2023/04/18 23:34:12 ================================================================================
2023/04/18 23:34:12 appendEntry time out for node 2 to node 0
2023/04/18 23:34:12 appendEntry time out for node 2 to node 1
2023/04/18 23:34:12 ====================node 1 started election, role=Leader====================
2023/04/18 23:34:12 node 1 is a leader, skipping this election
2023/04/18 23:34:12 reset election timer for node 1, timeout 454.833161ms
2023/04/18 23:34:12 ================================================================================
2023/04/18 23:34:12 appendEntry time out for node 2 to node 1
2023/04/18 23:34:12 appendEntry time out for node 2 to node 0
2023/04/18 23:34:12 ====================node 0 started election, role=Leader====================
2023/04/18 23:34:12 node 0 is a leader, skipping this election
2023/04/18 23:34:12 reset election timer for node 0, timeout 714.569765ms
2023/04/18 23:34:12 ================================================================================
2023/04/18 23:34:12 appendEntry time out for node 2 to node 0
2023/04/18 23:34:12 appendEntry time out for node 2 to node 1
2023/04/18 23:34:12 ====================node 1 started election, role=Leader====================
2023/04/18 23:34:12 node 1 is a leader, skipping this election
2023/04/18 23:34:12 reset election timer for node 1, timeout 432.126862ms
2023/04/18 23:34:12 ================================================================================
2023/04/18 23:34:13 appendEntry time out for node 2 to node 1
2023/04/18 23:34:13 appendEntry time out for node 2 to node 0
2023/04/18 23:34:13 ====================node 2 started election, role=Follower====================
2023/04/18 23:34:13 changing roles for node 2 from Follower to Candidate
2023/04/18 23:34:13 term=4
2023/04/18 23:34:13 node 2 can't reach peer 0 to send request vote rpc, rpc timeout
2023/04/18 23:34:13 node 2 can't reach peer 1 to send request vote rpc, rpc timeout
2023/04/18 23:34:13 node 2 received 1 votes, not enough
2023/04/18 23:34:13 changing roles for node 2 from Candidate to Follower
2023/04/18 23:34:13 reset election timer for node 2, timeout 513.871665ms
2023/04/18 23:34:13 ================================================================================
2023/04/18 23:34:13 appendEntry time out for node 2 to node 0
2023/04/18 23:34:13 appendEntry time out for node 2 to node 1
2023/04/18 23:34:13 ====================node 1 started election, role=Leader====================
2023/04/18 23:34:13 node 1 is a leader, skipping this election
2023/04/18 23:34:13 reset election timer for node 1, timeout 426.705408ms
2023/04/18 23:34:13 ================================================================================
2023/04/18 23:34:13 ====================node 0 started election, role=Leader====================
2023/04/18 23:34:13 node 0 is a leader, skipping this election
2023/04/18 23:34:13 reset election timer for node 0, timeout 400.738426ms
2023/04/18 23:34:13 ================================================================================
2023/04/18 23:34:13 appendEntry time out for node 2 to node 1
2023/04/18 23:34:13 appendEntry time out for node 2 to node 0
2023/04/18 23:34:13 calling kill() on node 0
2023/04/18 23:34:13 calling kill() on node 1
2023/04/18 23:34:13 calling kill() on node 2
2023/04/18 23:34:13 node=0 is killed, exiting go routing to listen for election timeout
2023/04/18 23:34:13 node=2 is killed, exiting go routing to listen for appendEntry timeout for peer 0
--- FAIL: TestReElection2A (3.96s)
    config.go:360: expected no leader, but 0 claims to be leader
2023/04/18 23:34:13 node=1 is killed, exiting go routing to listen for election timeout
2023/04/18 23:34:13 node=2 is killed, exiting go routing to listen for appendEntry timeout for peer 1
2023/04/18 23:34:13 node=2 is killed, exiting go routing to listen for election timeout
FAIL
exit status 1
FAIL    github.com/jerrywang1010/6.824/src/raft 6.979s