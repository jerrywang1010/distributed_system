disconnect(0)
2023/04/12 23:40:05 reset election timer for node 0, timeout 464.544596ms
disconnect(1)
2023/04/12 23:40:05 reset election timer for node 1, timeout 650.243436ms
disconnect(2)
2023/04/12 23:40:05 reset election timer for node 2, timeout 450.881383ms
connect(0)
connect(1)
connect(2)
Test (2A): initial election ...
2023/04/12 23:40:05 ====================node 2 started election, role=Follower====================
2023/04/12 23:40:05 changing roles for node 2 from Follower to Candidate
2023/04/12 23:40:05 term=1
2023/04/12 23:40:05 ====================node 0 received RequestVote PRC from 2 for term 1====================
2023/04/12 23:40:05 node 0 voted for 2 for the first time in this term
2023/04/12 23:40:05 reset election timer for node 0, timeout 723.097232ms
2023/04/12 23:40:05 ================================================================================
2023/04/12 23:40:05 ====================node 1 received RequestVote PRC from 2 for term 1====================
2023/04/12 23:40:05 node 1 voted for 2 for the first time in this term
2023/04/12 23:40:05 reset election timer for node 1, timeout 797.472736ms
2023/04/12 23:40:05 ================================================================================
2023/04/12 23:40:05 node 2 received 2 votes, became leader for term=1
2023/04/12 23:40:05 changing roles for node 2 from Candidate to Leader
2023/04/12 23:40:05 reset election timer for node 2, timeout 598.9881ms
2023/04/12 23:40:05 ================================================================================
2023/04/12 23:40:05 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:05 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:05 reset election timer for node 1, timeout 495.814402ms
2023/04/12 23:40:05 ================================================================================
2023/04/12 23:40:05 ================================================================================
2023/04/12 23:40:05 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:05 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:05 reset election timer for node 0, timeout 442.344657ms
2023/04/12 23:40:05 ================================================================================
2023/04/12 23:40:05 ================================================================================
2023/04/12 23:40:06 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:06 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:06 reset election timer for node 1, timeout 498.510185ms
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:06 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:06 reset election timer for node 0, timeout 649.921364ms
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ====================node 2 started election, role=Leader====================
2023/04/12 23:40:06 node 2 is a leader, skipping this election
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:06 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:06 reset election timer for node 1, timeout 459.321837ms
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:06 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:06 reset election timer for node 0, timeout 624.550226ms
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:06 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:06 reset election timer for node 1, timeout 544.200875ms
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:06 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:06 reset election timer for node 0, timeout 464.665793ms
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:06 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:06 reset election timer for node 1, timeout 434.905364ms
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:06 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:06 reset election timer for node 0, timeout 501.045577ms
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:06 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:06 reset election timer for node 1, timeout 466.215492ms
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:06 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:06 reset election timer for node 0, timeout 652.693359ms
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:06 ================================================================================
2023/04/12 23:40:07 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:07 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:07 reset election timer for node 1, timeout 748.328012ms
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:07 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:07 reset election timer for node 0, timeout 772.088902ms
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:07 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:07 reset election timer for node 1, timeout 789.460088ms
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:07 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:07 reset election timer for node 0, timeout 729.55619ms
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:07 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:07 reset election timer for node 1, timeout 474.775599ms
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:07 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:07 reset election timer for node 0, timeout 474.133102ms
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:07 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:07 reset election timer for node 1, timeout 498.726092ms
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:07 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:07 reset election timer for node 0, timeout 564.83474ms
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:07 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:07 reset election timer for node 1, timeout 587.634998ms
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:07 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:07 reset election timer for node 0, timeout 787.761704ms
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:07 ================================================================================
2023/04/12 23:40:08 ====================leader 2 sending heartbeats to node 1, current term=1====================
2023/04/12 23:40:08 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:08 reset election timer for node 1, timeout 629.329517ms
2023/04/12 23:40:08 ================================================================================
2023/04/12 23:40:08 ================================================================================
2023/04/12 23:40:08 ====================leader 2 sending heartbeats to node 0, current term=1====================
2023/04/12 23:40:08 ====================node 0 received AppendEntries PRC from 2====================
2023/04/12 23:40:08 reset election timer for node 0, timeout 489.907834ms
2023/04/12 23:40:08 ================================================================================
2023/04/12 23:40:08 ================================================================================
  ... Passed --   3.0  3   26    7086    0
disconnect(0)
2023/04/12 23:40:08 reset election timer for node 0, timeout 446.684873ms
disconnect(1)
2023/04/12 23:40:08 reset election timer for node 1, timeout 461.600766ms
disconnect(2)
2023/04/12 23:40:08 reset election timer for node 2, timeout 710.604021ms
connect(0)
connect(1)
connect(2)
Test (2A): election after network failure ...
2023/04/12 23:40:08 node=2 is killed, stop listening for appendEntryTimeout
2023/04/12 23:40:08 ====================node 0 started election, role=Follower====================
2023/04/12 23:40:08 changing roles for node 0 from Follower to Candidate
2023/04/12 23:40:08 term=2
the faque
the faque
2023/04/12 23:40:08 node 0 can't reach peer 2 to send request vote rpc
2023/04/12 23:40:08 node 0 can't reach peer 1 to send request vote rpc
2023/04/12 23:40:08 node 0 received 1 votes, not enough
2023/04/12 23:40:08 changing roles for node 0 from Candidate to Follower
2023/04/12 23:40:08 reset election timer for node 0, timeout 606.7096ms
2023/04/12 23:40:08 ================================================================================
2023/04/12 23:40:08 node=0 is killed, existing go routing to listen for election timeout
2023/04/12 23:40:08 ====================node 0 started election, role=Follower====================
2023/04/12 23:40:08 changing roles for node 0 from Follower to Candidate
2023/04/12 23:40:08 term=1
2023/04/12 23:40:08 ====================node 1 received RequestVote PRC from 0 for term 1====================
2023/04/12 23:40:08 node 1 voted for 0 for the first time in this term
2023/04/12 23:40:08 reset election timer for node 1, timeout 789.356018ms
2023/04/12 23:40:08 ================================================================================
2023/04/12 23:40:08 node 0 received 2 votes, became leader for term=1
2023/04/12 23:40:08 changing roles for node 0 from Candidate to Leader
2023/04/12 23:40:08 reset election timer for node 0, timeout 525.158654ms
2023/04/12 23:40:08 ================================================================================
2023/04/12 23:40:08 ====================node 2 received RequestVote PRC from 0 for term 1====================
2023/04/12 23:40:08 node 2 voted for 0 for the first time in this term
2023/04/12 23:40:08 reset election timer for node 2, timeout 723.027379ms
2023/04/12 23:40:08 ================================================================================
2023/04/12 23:40:08 ====================node 1 started election, role=Follower====================
2023/04/12 23:40:08 changing roles for node 1 from Follower to Candidate
2023/04/12 23:40:08 term=2
the faque
2023/04/12 23:40:08 node 1 can't reach peer 2 to send request vote rpc
the faque
2023/04/12 23:40:08 node 1 can't reach peer 0 to send request vote rpc
2023/04/12 23:40:08 node 1 received 1 votes, not enough
2023/04/12 23:40:08 changing roles for node 1 from Candidate to Follower
2023/04/12 23:40:08 reset election timer for node 1, timeout 494.898666ms
2023/04/12 23:40:08 ================================================================================
2023/04/12 23:40:08 node=1 is killed, existing go routing to listen for election timeout
disconnect(0)
2023/04/12 23:40:09 ====================leader 0 sending heartbeats to node 2, current term=1====================
2023/04/12 23:40:09 ====================node 2 started election, role=Follower====================
2023/04/12 23:40:09 changing roles for node 2 from Follower to Candidate
2023/04/12 23:40:09 term=2
2023/04/12 23:40:09 ====================node 1 received RequestVote PRC from 2 for term 2====================
2023/04/12 23:40:09 node 1 voted for 2 for the first time in this term
2023/04/12 23:40:09 reset election timer for node 1, timeout 545.520629ms
2023/04/12 23:40:09 ================================================================================
2023/04/12 23:40:09 node 2 received 2 votes, became leader for term=2
2023/04/12 23:40:09 changing roles for node 2 from Candidate to Leader
2023/04/12 23:40:09 reset election timer for node 2, timeout 443.358111ms
2023/04/12 23:40:09 ================================================================================
2023/04/12 23:40:09 ====================leader 2 sending heartbeats to node 1, current term=2====================
2023/04/12 23:40:09 ====================node 1 received AppendEntries PRC from 2====================
2023/04/12 23:40:09 reset election timer for node 1, timeout 436.227774ms
2023/04/12 23:40:09 ================================================================================
2023/04/12 23:40:09 ================================================================================
2023/04/12 23:40:09 ====================leader 2 sending heartbeats to node 0, current term=2====================
2023/04/12 23:40:10 ====================node 1 started election, role=Follower====================
2023/04/12 23:40:10 changing roles for node 1 from Follower to Candidate
2023/04/12 23:40:10 term=3
2023/04/12 23:40:10 leader 2 can not send heartbeat to peer 0
2023/04/12 23:40:10 ================================================================================
2023/04/12 23:40:10 connecting node 0 back
connect(0)
2023/04/12 23:40:10 ====================leader 2 sending heartbeats to node 1, current term=2====================
2023/04/12 23:40:12 node 2 can't reach peer 0 to send request vote rpc
2023/04/12 23:40:12 leader 0 can not send heartbeat to peer 2
2023/04/12 23:40:12 ================================================================================
2023/04/12 23:40:12 ====================leader 0 sending heartbeats to node 1, current term=1====================
signal: interrupt
FAIL	github.com/jerrywang1010/6.824/src/raft	8.001s
